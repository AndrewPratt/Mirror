<?xml version="1.0" encoding="utf-8" ?>
<grammar
  version="1.0" mode="voice" root="commands"
  xml:lang="en-US" tag-format="semantics/1.0"
  xmlns="http://www.w3.org/2001/06/grammar">

  <rule id="commands">
    <one-of>
      <item>
        <ruleref uri="#volume"/>
      </item>
      <item>
        <ruleref uri="#audio"/>
      </item>
      <item>
        <ruleref uri="#move"/>
      </item>
    </one-of>
  </rule>
  <rule id="volume">
    <one-of>
      <item>
        turn it
        <ruleref uri="#voltype" />
        <tag> out.action=rules.latest(); </tag>
      </item>
    </one-of>
  </rule>
  <rule id="audio">
    <one-of>
      <item>
        play
        <ruleref uri="#playtype" />
        <tag> out.action=rules.latest(); </tag>
      </item>
    </one-of>
  </rule>
  <rule id="move">
    <one-of>
      <item>
        move the rectangle
        <ruleref uri="#direction" />
        <tag> out.action=rules.latest(); </tag>
      </item>
    </one-of>
  </rule>
  <rule id="direction">
    <one-of>
      <item>
        <tag>out="left";</tag>
        <one-of>
          <item>left</item>
        </one-of>
      </item>
      <item>
        <tag>out="right";</tag>
        <one-of>
          <item>right</item>
        </one-of>
      </item>
    </one-of>
  </rule>
  <rule id="voltype">
    <one-of>
      <item>
        <tag>out="up";</tag>
        <one-of>
          <item>max</item>
          <item>up</item>
          <item>louder</item>
          <item>increase</item>
        </one-of>
      </item>
      <item>
        <tag>out="down";</tag>
        <one-of>
          <item>mute</item>
          <item>down</item>
          <item>off</item>
          <item>decrease</item>
        </one-of>
      </item>
    </one-of>
  </rule>
  <rule id="playtype">
    <one-of>
      <item>
        <tag>out="song";</tag>
        <one-of>
          <item>max</item>
          <item>up</item>
          <item>louder</item>
          <item>increase</item>
        </one-of>
      </item>
      <item>
        <tag>out="down";</tag>
        <one-of>
          <item>mute</item>
          <item>down</item>
          <item>off</item>
          <item>decrease</item>
        </one-of>
      </item>
    </one-of>
  </rule>
</grammar>